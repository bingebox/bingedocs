# 云原生应用十二要素  

    Heroku的创始人Adam Wiggins于2012年发布了“The Twelve-Factor APP”，即云原生应用十二要素。  
1. One Codebase, One Application  
    一个应用, 一份基准代码。  
    一份基准代码，多份部署。 
    分布式系统中的每一个组件都是一个应用，每一个应用可以分别使用 12-Factor 进行开发。  
    多个应用共享一份基准代码是有悖于 12-Factor 原则的。解决方案是将共享的代码拆分为独立的类库，然后使用依赖管理策略去加载它们。  
    代码要进行版本管理, 如git和svn, GitLab、GitHub等。  
    一份基准代码可以是一个代码仓库，也可以一组代码仓库。  
   
2. Dependency Management  
    显式声明依赖关系。  
    不要隐式依赖系统级的类库。  
    通过依赖清单，确切地声明所有依赖项。  
    在运行过程中通过依赖隔离工具来确保程序不会调用系统中存在但清单中未声明的依赖项。  
    一个构建好的二进制程序包应该包含它所需要的全部依赖，可以独立运行。比如一个包含了全部依赖的Spring Boot的all-in-one的可独立运行的jar包，又比如一个包含了全部依赖可独立运行的Docker镜像。   
    使用依赖管理工具, 比如Maven、Gradle、npm。  
    使用制品仓库，比如Nexus、Harbor。  
    微服务间依赖原则:
    * 按用途从上到下将服务划分为组合服务、业务服务和基础服务，上层服务可以依赖下层服务，下层服务不可以依赖上层服务.
    * 组合服务和业务服务都可以对外提供服务，基础服务不能对外提供服务.
    * 业务服务之间可以相互依赖，但是不能存在“循环依赖”（A依赖于B，B又依赖于A），出现“循环依赖”时由组合服务进行服务组合（组合服务C依赖于服务A，同时C还依赖于B）.

